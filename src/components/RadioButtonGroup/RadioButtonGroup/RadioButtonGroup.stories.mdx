import { useState } from 'react';
import { Meta, Story, Canvas, ArgsTable } from '@storybook/addon-docs/blocks';
import { RadioButton } from '../../RadioButton';
import { RadioButtonGroup } from '.';

<Meta title="Forms/MDX/RadioButtonGroup" component={RadioButtonGroup} />

# RadioButtonGroup

`<RadioButtonGroup>` for a form. Children must be 2 or more of `<RadioButton>`.

## Note

When we use `formik`, we need to use a component that has `useField` inside `Formik`. If we use `useField` on the same level as `formik` as below, it doesn't work.

```tsx
const RadioButtonGroupComponentWithRadioOutlineCardBrandTemplate: Story<RadioButtonGroupProps> = (
  args
) => {
  const { name } = args;
  const [field] = useField(name);

  return (
    <Formik
      initialValues={{ radio: 'xero' }}
      onSubmit={(values) => alert(`form submitted with ${JSON.stringify(values)}`)}
    >
      <Form>
        <RadioButtonGroupComponent {...args} value={field.value} onChange={field.onChange}>
          <RadioButton id="first" value="first" key="first">
            <span className="radioButtonLabelText">Admin</span>
          </RadioButton>
          <RadioButton id="second" value="second" key="second">
            <span className="radioButtonLabelText">Manager</span>
          </RadioButton>
          <RadioButton id="third" value="third" key="third">
            <span className="radioButtonLabelText">Engineer</span>
          </RadioButton>
        </RadioButtonGroupComponent>

        <button type="submit">Submit</button>
      </Form>
    </Formik>
  );
};
```

## Summary

<Canvas>
  <Story name="Example">
    {() => {
      const [checkedValue, setCheckedValue] = useState('');
      return (
        <RadioButtonGroup
          name="example"
          value={checkedValue}
          onChange={setCheckedValue}
          hasError={false}
        >
          <RadioButton id="first" value="first" key="first">
            <span className="radioButtonLabelText">Admin</span>
          </RadioButton>
          <RadioButton id="second" value="second" key="second">
            <span className="radioButtonLabelText">Manager</span>
          </RadioButton>
          <RadioButton id="third" value="third" key="third">
            <span className="radioButtonLabelText">Engineer</span>
          </RadioButton>
        </RadioButtonGroup>
      );
    }}
  </Story>
</Canvas>

<ArgsTable of={RadioButtonGroup} />
